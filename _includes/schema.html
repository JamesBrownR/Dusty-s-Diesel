<!-- 
  Add this to your _includes folder as schema.html
  Then include it in your layout file before </head>
-->

{% assign current_page = page.url | remove: '.html' | remove: '/' %}
{% assign page_path = page.url | remove: '.html' %}

<!-- Organization Schema - Appears on all pages -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "AutomotiveBusiness",
  "name": "Dusty's Diesel",
  "image": "{{ site.url }}{{ site.baseurl }}/Pics/Dusty-s-Diesel2.png",
  "logo": {
    "@type": "ImageObject",
    "url": "{{ site.url }}{{ site.baseurl }}/Pics/Dusty-s-Diesel2.png"
  },
  "url": "{{ site.url }}{{ site.baseurl }}/",
  "telephone": "+19189733545",
  "email": "dustydieseldoc@gmail.com",
  "priceRange": "$$",
  "description": "Expert diesel performance tuning, repair, and programming services in Davis, OK. Specializing in Cummins, CAT, Detroit, and all major diesel engines.",
  "address": {
    "@type": "PostalAddress",
    "streetAddress": "8305 W McKee Industrial Rd",
    "addressLocality": "Davis",
    "addressRegion": "OK",
    "postalCode": "73030",
    "addressCountry": "US"
  },
  "geo": {
    "@type": "GeoCoordinates",
    "latitude": 34.4906295,
    "longitude": -97.11315139999999
  },
  "openingHoursSpecification": [
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday", "Tuesday", "Thursday"],
      "opens": "08:00:00",
      "closes": "18:00:00"
    },
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": "Wednesday",
      "opens": "08:00:00",
      "closes": "16:00:00"
    },
    {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": "Friday",
      "opens": "08:00:00",
      "closes": "17:00:00"
    }
  ],
  "paymentAccepted": "Cash, Credit Card, Debit Card",
  "currenciesAccepted": "USD",
  "hasMap": "https://www.google.com/maps/place/Dusty's+Diesel/@34.4906295,-97.11315139999999,17z/",
  "aggregateRating": {
    "@type": "AggregateRating",
    "ratingValue": "5",
    "reviewCount": "27",
    "bestRating": "5",
    "worstRating": "1"
  },
  "areaServed": {
    "@type": "City",
    "name": "Davis",
    "containedInPlace": {
      "@type": "State",
      "name": "Oklahoma"
    }
  },
  "sameAs": [
    "https://www.google.com/maps/place/Dusty's+Diesel/",
    "https://www.yelp.com/biz/dustys-diesel-davis"
  ]
}
</script>

{% if current_page == "" or current_page == "index" %}
<!-- Home Page - Services List -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Dusty's Diesel Services",
  "description": "Comprehensive diesel performance and repair services",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": {
        "@type": "Service",
        "serviceType": "Performance & Dyno Tuning",
        "name": "Performance & Dyno Tuning",
        "description": "Custom ECU tuning, performance parts, and expert Dynojet tuning for maximum diesel performance",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 2,
      "item": {
        "@type": "Service",
        "serviceType": "Exhaust & Emissions Services",
        "name": "Exhaust & Emissions Services",
        "description": "Expert exhaust system repair, performance exhaust upgrades, DEF and EGR system services",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "item": {
        "@type": "Service",
        "serviceType": "Engine Programming",
        "name": "Off-Road Truck Engine Programming",
        "description": "EGR, DPF, SCR optimization and horsepower uprates for Cummins, CAT, Detroit Diesel, Paccar, Volvo, Mack, and more",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    }
  ]
}
</script>
{% endif %}

{% if current_page == "services" %}
<!-- Services Page Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Full-Service Diesel Solutions",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": {
        "@type": "Service",
        "name": "Performance & Dyno Tuning",
        "description": "Custom ECU tuning, performance parts, and expert Dynojet tuning. Unlock your truck's true power with professional diesel tuning services.",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 2,
      "item": {
        "@type": "Service",
        "name": "Exhaust & Emissions Services",
        "description": "Expert service for exhaust systems, including repair, full replacements, and emissions system solutions (DEF, EGR). Performance exhaust upgrades available.",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    }
  ]
}
</script>
{% endif %}

{% if current_page == "engines" %}
<!-- Engine Programming Page Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ItemList",
  "name": "Supported Engine Programming Services",
  "description": "Off-road truck programming for all major heavy-duty diesel engines",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "item": {
        "@type": "Service",
        "name": "Cummins Engine Programming",
        "description": "ISB, ISC, ISL, ISX programming with EGR, DPF, SCR optimization and HP uprates (2004-2021)",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 2,
      "item": {
        "@type": "Service",
        "name": "Caterpillar Engine Programming",
        "description": "C7-C15 programming with EGR, DPF optimization and HP uprates",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 3,
      "item": {
        "@type": "Service",
        "name": "Detroit Diesel Programming",
        "description": "Series 60, DD13-DD16 programming with EGR, DPF, SCR optimization (2004-2021)",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 4,
      "item": {
        "@type": "Service",
        "name": "Paccar Engine Programming",
        "description": "PX7-9, MX11, MX13 programming with EGR, DPF, SCR optimization (2007-2021)",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    },
    {
      "@type": "ListItem",
      "position": 5,
      "item": {
        "@type": "Service",
        "name": "Volvo/Mack Engine Programming",
        "description": "MP7, MP8, D11, D12F, D12H, D13, D16 programming (Up to 2017)",
        "provider": {
          "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
        }
      }
    }
  ]
}
</script>
{% endif %}

{% if current_page == "about" %}
<!-- About Page - Team Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "AboutPage",
  "mainEntity": {
    "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
  }
}
</script>
{% endif %}

{% if current_page == "contact" %}
<!-- Contact Page Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "mainEntity": {
    "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
  }
}
</script>
{% endif %}

{% if page.layout == "post" and page.title %}
<!-- Blog Post Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "{{ page.title }}",
  "description": "{{ page.description | default: page.excerpt | strip_html | truncate: 160 }}",
  {% if page.image %}
  "image": "{{ site.url }}{{ page.image }}",
  {% endif %}
  "datePublished": "{{ page.date | date_to_xmlschema }}",
  "dateModified": "{{ page.last_modified_at | default: page.date | date_to_xmlschema }}",
  "author": {
    "@type": "Organization",
    "name": "Dusty's Diesel"
  },
  "publisher": {
    "@id": "{{ site.url }}{{ site.baseurl }}/#organization"
  }
}
</script>
{% endif %}

{% if current_page != "" and current_page != "index" %}
<!-- Breadcrumb Schema -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "{{ site.url }}{{ site.baseurl }}/"
    },
    {
      "@type": "ListItem",
      "position": 2,
      "name": "{{ page.title }}",
      "item": "{{ site.url }}{{ page.url }}"
    }
  ]
}
</script>
{% endif %}
